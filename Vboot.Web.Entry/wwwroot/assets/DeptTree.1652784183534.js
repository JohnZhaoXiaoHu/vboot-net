import{_ as D,h as T,m as I,E as F,s as R}from"./index.1652784183534.js";import{a as M,j as p,k as j,a3 as P,m as S,a2 as n,o as U,R as X,S as o,e as s,Z as l,u as c,X as i}from"./vue.1652784183534.js";const Z={class:"card-header"},$={class:"tree-h-flex"},q={class:"tree-h-left"},z={class:"tree-h-right"},G=i("\u5168\u90E8\u5C55\u5F00"),H=i("\u5168\u90E8\u6298\u53E0"),J=i("\u5237\u65B0"),K={style:{"margin-bottom":"45px"}},L=M({props:{maInit:Boolean},emits:["node-click"],setup(m,{expose:f,emit:h}){const v=m,d=p(""),a=p(),x={children:"children",label:"name"};j(d,e=>{a.value.filter(e)});const g=(e,t)=>e?t.name.includes(e):!0,_=P({data:[],willInit:!0}),w=e=>{if(e=="expandAll")for(let t=0;t<a.value.store._getAllNodes().length;t++)a.value.store._getAllNodes()[t].expanded=!0;else if(e=="collapseAll")for(let t=0;t<a.value.store._getAllNodes().length;t++)a.value.store._getAllNodes()[t].expanded=!1;F(`click on item ${e}`)},u=async()=>{_.data=await R({url:"/gen/org/dept/tree",method:"get"})};S(()=>{v.maInit==!1&&u()});const y=e=>{h("node-click",{id:e.id,name:e.name})};return f({init:async()=>{await u()}}),(e,t)=>{const k=n("el-input"),N=n("el-icon"),A=n("el-button"),r=n("el-dropdown-item"),C=n("el-dropdown-menu"),E=n("el-dropdown"),b=n("el-tree"),V=n("el-card");return U(),X(V,{class:"box-card",style:{height:"100%"},"body-style":"height: 100%;overflow: auto"},{header:o(()=>[s("div",Z,[s("div",$,[s("div",q,[l(k,{"prefix-icon":c(T),modelValue:d.value,"onUpdate:modelValue":t[0]||(t[0]=B=>d.value=B),placeholder:"\u90E8\u95E8\u540D\u79F0"},null,8,["prefix-icon","modelValue"])]),s("div",z,[l(E,{onCommand:w},{dropdown:o(()=>[l(C,null,{default:o(()=>[l(r,{command:"expandAll"},{default:o(()=>[G]),_:1}),l(r,{command:"collapseAll"},{default:o(()=>[H]),_:1}),l(r,{command:"refresh"},{default:o(()=>[J]),_:1})]),_:1})]),default:o(()=>[l(A,{style:{"margin-left":"10px",width:"30px"}},{default:o(()=>[l(N,{class:"el-icon--right"},{default:o(()=>[l(c(I))]),_:1})]),_:1})]),_:1})])])])]),default:o(()=>[s("div",K,[l(b,{ref_key:"treeRef",ref:a,class:"filter-tree",data:c(_).data,props:x,"filter-node-method":g,onNodeClick:y},null,8,["data"])])]),_:1})}}});var Y=D(L,[["__scopeId","data-v-0fd7569e"]]);export{Y as D};
