var R=Object.defineProperty,j=Object.defineProperties;var K=Object.getOwnPropertyDescriptors;var F=Object.getOwnPropertySymbols;var M=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable;var V=(d,e,i)=>e in d?R(d,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):d[e]=i,A=(d,e)=>{for(var i in e||(e={}))M.call(e,i)&&V(d,i,e[i]);if(F)for(var i of F(e))G.call(e,i)&&V(d,i,e[i]);return d},k=(d,e)=>j(d,K(e));import{a as S,j as B,k as I,a3 as z,m as N,a2 as r,o as C,R as E,S as n,e as p,Z as o,u as t,X as _,aa as Q,a9 as X,T as D,U as Y,Y as Z}from"./vue.1652784183534.js";import{l as v,p as q,a as H,b as J,h as L}from"./index.16527841835345.js";import{_ as O}from"./Wrap.1652784183534.js";import{_ as W,h as ee,m as te,E as oe,s as le,d as ne,e as ae,p as se,f as re}from"./index.1652784183534.js";const ie={class:"card-header"},de={class:"tree-h-flex"},ue={class:"tree-h-left"},pe={class:"tree-h-right"},_e=_("\u5168\u90E8\u5C55\u5F00"),me=_("\u5168\u90E8\u6298\u53E0"),ce=_("\u5237\u65B0"),fe={style:{"margin-bottom":"45px"}},ge=S({props:{url:String},setup(d){const e=d,i=B(""),l=B(),c={children:"children",label:"name"};I(i,u=>{l.value.filter(u)});const m=(u,s)=>u?s.name.includes(u):!0,f=z({data:[]}),x=u=>{if(u=="expandAll")for(let s=0;s<l.value.store._getAllNodes().length;s++)l.value.store._getAllNodes()[s].expanded=!0;else if(u=="collapseAll")for(let s=0;s<l.value.store._getAllNodes().length;s++)l.value.store._getAllNodes()[s].expanded=!1;oe(`click on item ${u}`)},g=async()=>{f.data=await le({url:e.url,method:"get"})};return N(()=>{g()}),(u,s)=>{const w=r("el-input"),b=r("el-icon"),y=r("el-button"),h=r("el-dropdown-item"),a=r("el-dropdown-menu"),$=r("el-dropdown"),U=r("el-tree"),T=r("el-card");return C(),E(T,{class:"box-card",style:{height:"100%"},"body-style":"height: 100%;overflow: auto"},{header:n(()=>[p("div",ie,[p("div",de,[p("div",ue,[o(w,{"prefix-icon":t(ee),modelValue:i.value,"onUpdate:modelValue":s[0]||(s[0]=P=>i.value=P),placeholder:" "},null,8,["prefix-icon","modelValue"])]),p("div",pe,[o($,{onCommand:x},{dropdown:n(()=>[o(a,null,{default:n(()=>[o(h,{command:"expandAll"},{default:n(()=>[_e]),_:1}),o(h,{command:"collapseAll"},{default:n(()=>[me]),_:1}),o(h,{command:"refresh"},{default:n(()=>[ce]),_:1})]),_:1})]),default:n(()=>[o(y,{style:{"margin-left":"10px",width:"30px"}},{default:n(()=>[o(b,{class:"el-icon--right"},{default:n(()=>[o(t(te))]),_:1})]),_:1})]),_:1})])])])]),default:n(()=>[p("div",fe,[o(U,{ref_key:"treeRef",ref:l,class:"filter-tree",data:t(f).data,props:c,"filter-node-method":m},null,8,["data"])])]),_:1})}}});var he=W(ge,[["__scopeId","data-v-ca5ef432"]]);const ve={class:"p-left"},xe={class:"p-right"},we=_("\u67E5 \u8BE2"),be=_("\u66F4\u591A"),ye=_("\u65B0\u589E"),Ce=_("\u5220\u9664"),Ee={class:"more-params"},$e={style:{margin:"6px",position:"absolute",width:"100%"}},Fe=["onClick"],Ve={name:"oaFlowTemp"},ze=S(k(A({},Ve),{setup(d){const e=z({url:"/oa/flow/temp",loading:!0,ids:[],moreParams:!1,form:{},single:!0,multiple:!0,list:[],total:0});return N(()=>{v(e)}),(i,l)=>{const c=r("el-input"),m=r("el-button"),f=r("el-col"),x=r("el-row"),g=r("el-form-item"),u=r("el-form"),s=r("el-table-column"),w=r("el-table"),b=r("el-pagination"),y=r("el-card"),h=Q("loading");return C(),E(O,null,{default:n(()=>[p("div",ve,[o(he,{url:"/oa/flow/cate/tree"})]),p("div",xe,[o(y,{class:"box-card",style:{height:"100%",position:"relative","overflow-y":"auto"}},{header:n(()=>[o(x,null,{default:n(()=>[o(f,{span:11},{default:n(()=>[o(c,{modelValue:t(e).form.name,"onUpdate:modelValue":l[0]||(l[0]=a=>t(e).form.name=a),placeholder:"\u8F93\u5165\u540D\u79F0\u56DE\u8F66\u67E5\u8BE2",clearable:"",style:{width:"200px","margin-right":"10px"},onKeyup:l[1]||(l[1]=X(a=>t(v)(t(e)),["enter"]))},null,8,["modelValue"]),o(m,{type:"primary",onClick:l[2]||(l[2]=a=>t(v)(t(e))),plain:""},{default:n(()=>[we]),_:1}),o(m,{class:"more-button",icon:t(e).moreParams?t(ne):t(ae),plain:"",onClick:l[3]||(l[3]=a=>t(e).moreParams=!t(e).moreParams)},{default:n(()=>[be]),_:1},8,["icon"])]),_:1}),o(f,{span:13,style:{"text-align":"right"}},{default:n(()=>[o(m,{type:"success",icon:t(se),onClick:l[4]||(l[4]=a=>t(q)("ofte")),plain:""},{default:n(()=>[ye]),_:1},8,["icon"]),o(m,{type:"danger",icon:t(re),disabled:t(e).multiple,onClick:l[5]||(l[5]=a=>t(H)(t(e))),plain:""},{default:n(()=>[Ce]),_:1},8,["icon","disabled"])]),_:1})]),_:1}),D(p("div",Ee,[o(u,{inline:!0,"label-width":"100px"},{default:n(()=>[o(g,{label:"\u5907\u6CE8"},{default:n(()=>[o(c,{modelValue:t(e).form.notes,"onUpdate:modelValue":l[6]||(l[6]=a=>t(e).form.notes=a),placeholder:"\u8F93\u5165\u5907\u6CE8"},null,8,["modelValue"])]),_:1}),o(g,{label:"xxxxx"},{default:n(()=>[o(c,{modelValue:t(e).form.xx,"onUpdate:modelValue":l[7]||(l[7]=a=>t(e).form.xx=a)},null,8,["modelValue"])]),_:1}),o(g)]),_:1})],512),[[Y,t(e).moreParams]])]),default:n(()=>[p("div",$e,[D((C(),E(w,{height:"400","cell-style":{padding:"2px"},"row-style":{height:"36px"},data:t(e).list,border:"",stripe:"",onSelectionChange:l[8]||(l[8]=a=>t(J)(a,t(e)))},{default:n(()=>[o(s,{type:"selection",width:"55",align:"center"}),o(s,{label:"\u5E8F\u53F7",type:"index",width:"55",align:"center"}),o(s,{label:"\u6A21\u677F\u540D\u79F0",width:"180"},{default:n(a=>[p("span",{style:{cursor:"pointer",color:"#3e9ece"},onClick:$=>t(L)("ofte?id="+a.row.id)},Z(a.row.name),9,Fe)]),_:1}),o(s,{label:"\u4E0A\u7EA7\u5206\u7C7B",prop:"pcate"}),o(s,{label:"\u5907\u6CE8",prop:"notes"}),o(s,{label:"\u521B\u5EFA\u65F6\u95F4",prop:"crtim",width:"160"}),o(s,{label:"\u66F4\u65B0\u65F6\u95F4",prop:"uptim",width:"160"})]),_:1},8,["data"])),[[h,t(e).loading]]),o(b,{onSizeChange:l[9]||(l[9]=a=>t(v)(t(e))),onCurrentChange:l[10]||(l[10]=a=>t(v)(t(e))),class:"mt8","pager-count":5,"page-sizes":[10,20,30],background:"",total:t(e).total,"current-page":t(e).form.page,"onUpdate:current-page":l[11]||(l[11]=a=>t(e).form.page=a),"page-size":t(e).form.pageSize,"onUpdate:page-size":l[12]||(l[12]=a=>t(e).form.pageSize=a),layout:"total, sizes, prev, pager, next, jumper"},null,8,["total","current-page","page-size"])])]),_:1})])]),_:1})}}}));export{ze as default};
