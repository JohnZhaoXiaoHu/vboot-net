var M=Object.defineProperty;var B=Object.getOwnPropertySymbols;var $=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable;var S=(u,o,t)=>o in u?M(u,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):u[o]=t,g=(u,o)=>{for(var t in o||(o={}))$.call(o,t)&&S(u,t,o[t]);if(B)for(var t of B(o))x.call(o,t)&&S(u,t,o[t]);return u};import{a as N,s as R,a3 as z,m as H,ag as K,b,Z as e,S as l,a2 as r,o as f,e as h,Y as k,W as _,F as y,R as P,X as i}from"./vue.1652784183534.js";import{_ as j,aa as W,ab as X}from"./index.1652784183534.js";import{I as Y}from"./index.165278418353410.js";import"./getStyleSheets.1652784183534.js";const Z=N({name:"systemEditMenu",components:{IconSelector:Y},setup(){const u=W(),{routesList:o}=R(u),t=z({isShowDialog:!1,ruleForm:{menuSuperior:[],menuType:"menu",name:"",component:"",isLink:!1,menuSort:0,path:"",redirect:"",meta:{title:"",icon:"",isHide:!1,isKeepAlive:!0,isAffix:!1,isLink:"",isIframe:!1,roles:""},btnPower:""},menuData:[]}),V=m=>{const p=[];return m.map(d=>{d.title=X.global.t(d.meta.title),d.id=Math.random(),p.push(g({},d)),d.children&&V(d.children)}),p},D=m=>{var p;m.menuType="menu",m.menuSort=Math.random(),m.component=(p=`${m.component} `.match(/\'(.+)\'/g))==null?void 0:p.join("").replace(/\'/g,""),t.ruleForm=m,t.isShowDialog=!0},F=()=>{t.isShowDialog=!1},c=()=>{t.ruleForm.meta.isIframe?t.ruleForm.isLink=!0:t.ruleForm.isLink=!1},s=()=>{F()},n=()=>{F()};return H(()=>{t.menuData=V(o.value)}),g({openDialog:D,closeDialog:F,onSelectIframeChange:c,onCancel:s,onSubmit:n},K(t))}}),q={class:"system-edit-menu-container"},G={key:0},J=i("\u83DC\u5355"),O=i("\u6309\u94AE"),Q=i("\u9690\u85CF"),ee=i("\u4E0D\u9690\u85CF"),le=i("\u7F13\u5B58"),ue=i("\u4E0D\u7F13\u5B58"),oe=i("\u56FA\u5B9A"),ae=i("\u4E0D\u56FA\u5B9A"),te=i("\u662F"),me=i("\u5426"),se=i("\u662F"),ne=i("\u5426"),de={class:"dialog-footer"},re=i("\u53D6 \u6D88"),ie=i("\u4FEE \u6539");function pe(u,o,t,V,D,F){const c=r("el-cascader"),s=r("el-form-item"),n=r("el-col"),m=r("el-radio"),p=r("el-radio-group"),d=r("el-input"),U=r("IconSelector"),C=r("el-option"),w=r("el-select"),L=r("el-input-number"),I=r("el-row"),T=r("el-form"),E=r("el-button"),v=r("el-dialog");return f(),b("div",q,[e(v,{title:"\u4FEE\u6539\u83DC\u5355",modelValue:u.isShowDialog,"onUpdate:modelValue":o[17]||(o[17]=a=>u.isShowDialog=a),width:"769px"},{footer:l(()=>[h("span",de,[e(E,{onClick:u.onCancel,size:"default"},{default:l(()=>[re]),_:1},8,["onClick"]),e(E,{type:"primary",onClick:u.onSubmit,size:"default"},{default:l(()=>[ie]),_:1},8,["onClick"])])]),default:l(()=>[e(T,{model:u.ruleForm,size:"default","label-width":"80px"},{default:l(()=>[e(I,{gutter:35},{default:l(()=>[e(n,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:l(()=>[e(s,{label:"\u4E0A\u7EA7\u83DC\u5355"},{default:l(()=>[e(c,{options:u.menuData,props:{checkStrictly:!0,value:"path",label:"title"},placeholder:"\u8BF7\u9009\u62E9\u4E0A\u7EA7\u83DC\u5355",clearable:"",class:"w100",modelValue:u.ruleForm.menuSuperior,"onUpdate:modelValue":o[0]||(o[0]=a=>u.ruleForm.menuSuperior=a)},{default:l(({node:a,data:A})=>[h("span",null,k(A.title),1),a.isLeaf?_("",!0):(f(),b("span",G," ("+k(A.children.length)+") ",1))]),_:1},8,["options","modelValue"])]),_:1})]),_:1}),e(n,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:l(()=>[e(s,{label:"\u83DC\u5355\u7C7B\u578B"},{default:l(()=>[e(p,{modelValue:u.ruleForm.menuType,"onUpdate:modelValue":o[1]||(o[1]=a=>u.ruleForm.menuType=a)},{default:l(()=>[e(m,{label:"menu"},{default:l(()=>[J]),_:1}),e(m,{label:"btn"},{default:l(()=>[O]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(n,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:l(()=>[e(s,{label:"\u83DC\u5355\u540D\u79F0"},{default:l(()=>[e(d,{modelValue:u.ruleForm.meta.title,"onUpdate:modelValue":o[2]||(o[2]=a=>u.ruleForm.meta.title=a),placeholder:"\u683C\u5F0F\uFF1Amessage.router.xxx",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),u.ruleForm.menuType==="menu"?(f(),b(y,{key:0},[e(n,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:l(()=>[e(s,{label:"\u8DEF\u7531\u540D\u79F0"},{default:l(()=>[e(d,{modelValue:u.ruleForm.name,"onUpdate:modelValue":o[3]||(o[3]=a=>u.ruleForm.name=a),placeholder:"\u8DEF\u7531\u4E2D\u7684 name \u503C",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(n,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:l(()=>[e(s,{label:"\u8DEF\u7531\u8DEF\u5F84"},{default:l(()=>[e(d,{modelValue:u.ruleForm.path,"onUpdate:modelValue":o[4]||(o[4]=a=>u.ruleForm.path=a),placeholder:"\u8DEF\u7531\u4E2D\u7684 path \u503C",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(n,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:l(()=>[e(s,{label:"\u91CD\u5B9A\u5411"},{default:l(()=>[e(d,{modelValue:u.ruleForm.redirect,"onUpdate:modelValue":o[5]||(o[5]=a=>u.ruleForm.redirect=a),placeholder:"\u8BF7\u8F93\u5165\u8DEF\u7531\u91CD\u5B9A\u5411",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(n,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:l(()=>[e(s,{label:"\u83DC\u5355\u56FE\u6807"},{default:l(()=>[e(U,{placeholder:"\u8BF7\u8F93\u5165\u83DC\u5355\u56FE\u6807",modelValue:u.ruleForm.meta.icon,"onUpdate:modelValue":o[6]||(o[6]=a=>u.ruleForm.meta.icon=a),type:"all"},null,8,["modelValue"])]),_:1})]),_:1}),e(n,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:l(()=>[e(s,{label:"\u7EC4\u4EF6\u8DEF\u5F84"},{default:l(()=>[e(d,{modelValue:u.ruleForm.component,"onUpdate:modelValue":o[7]||(o[7]=a=>u.ruleForm.component=a),placeholder:"\u7EC4\u4EF6\u8DEF\u5F84",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(n,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:l(()=>[e(s,{label:"\u94FE\u63A5\u5730\u5740"},{default:l(()=>[e(d,{modelValue:u.ruleForm.meta.isLink,"onUpdate:modelValue":o[8]||(o[8]=a=>u.ruleForm.meta.isLink=a),placeholder:"\u5916\u94FE/\u5185\u5D4C\u65F6\u94FE\u63A5\u5730\u5740\uFF08http:xxx.com\uFF09",clearable:"",disabled:!u.ruleForm.isLink},null,8,["modelValue","disabled"])]),_:1})]),_:1}),e(n,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:l(()=>[e(s,{label:"\u6743\u9650\u6807\u8BC6"},{default:l(()=>[e(w,{modelValue:u.ruleForm.meta.roles,"onUpdate:modelValue":o[9]||(o[9]=a=>u.ruleForm.meta.roles=a),multiple:"",placeholder:"\u53D6\u89D2\u8272\u7BA1\u7406",clearable:"",class:"w100"},{default:l(()=>[e(C,{label:"admin",value:"admin"}),e(C,{label:"common",value:"common"})]),_:1},8,["modelValue"])]),_:1})]),_:1})],64)):_("",!0),u.ruleForm.menuType==="btn"?(f(),P(n,{key:1,xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:l(()=>[e(s,{label:"\u6743\u9650\u6807\u8BC6"},{default:l(()=>[e(d,{modelValue:u.ruleForm.btnPower,"onUpdate:modelValue":o[10]||(o[10]=a=>u.ruleForm.btnPower=a),placeholder:"\u8BF7\u8F93\u5165\u6743\u9650\u6807\u8BC6",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})):_("",!0),e(n,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:l(()=>[e(s,{label:"\u83DC\u5355\u6392\u5E8F"},{default:l(()=>[e(L,{modelValue:u.ruleForm.menuSort,"onUpdate:modelValue":o[11]||(o[11]=a=>u.ruleForm.menuSort=a),"controls-position":"right",placeholder:"\u8BF7\u8F93\u5165\u6392\u5E8F",class:"w100"},null,8,["modelValue"])]),_:1})]),_:1}),u.ruleForm.menuType==="menu"?(f(),b(y,{key:2},[e(n,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:l(()=>[e(s,{label:"\u662F\u5426\u9690\u85CF"},{default:l(()=>[e(p,{modelValue:u.ruleForm.meta.isHide,"onUpdate:modelValue":o[12]||(o[12]=a=>u.ruleForm.meta.isHide=a)},{default:l(()=>[e(m,{label:!0},{default:l(()=>[Q]),_:1}),e(m,{label:!1},{default:l(()=>[ee]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(n,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:l(()=>[e(s,{label:"\u9875\u9762\u7F13\u5B58"},{default:l(()=>[e(p,{modelValue:u.ruleForm.meta.isKeepAlive,"onUpdate:modelValue":o[13]||(o[13]=a=>u.ruleForm.meta.isKeepAlive=a)},{default:l(()=>[e(m,{label:!0},{default:l(()=>[le]),_:1}),e(m,{label:!1},{default:l(()=>[ue]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(n,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:l(()=>[e(s,{label:"\u662F\u5426\u56FA\u5B9A"},{default:l(()=>[e(p,{modelValue:u.ruleForm.meta.isAffix,"onUpdate:modelValue":o[14]||(o[14]=a=>u.ruleForm.meta.isAffix=a)},{default:l(()=>[e(m,{label:!0},{default:l(()=>[oe]),_:1}),e(m,{label:!1},{default:l(()=>[ae]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(n,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:l(()=>[e(s,{label:"\u662F\u5426\u5916\u94FE"},{default:l(()=>[e(p,{modelValue:u.ruleForm.isLink,"onUpdate:modelValue":o[15]||(o[15]=a=>u.ruleForm.isLink=a),disabled:u.ruleForm.meta.isIframe},{default:l(()=>[e(m,{label:!0},{default:l(()=>[te]),_:1}),e(m,{label:!1},{default:l(()=>[me]),_:1})]),_:1},8,["modelValue","disabled"])]),_:1})]),_:1}),e(n,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:l(()=>[e(s,{label:"\u662F\u5426\u5185\u5D4C"},{default:l(()=>[e(p,{modelValue:u.ruleForm.meta.isIframe,"onUpdate:modelValue":o[16]||(o[16]=a=>u.ruleForm.meta.isIframe=a),onChange:u.onSelectIframeChange},{default:l(()=>[e(m,{label:!0},{default:l(()=>[se]),_:1}),e(m,{label:!1},{default:l(()=>[ne]),_:1})]),_:1},8,["modelValue","onChange"])]),_:1})]),_:1})],64)):_("",!0)]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}var ce=j(Z,[["render",pe]]);export{ce as default};
