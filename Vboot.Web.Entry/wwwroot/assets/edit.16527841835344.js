var S=Object.defineProperty,T=Object.defineProperties;var q=Object.getOwnPropertyDescriptors;var x=Object.getOwnPropertySymbols;var I=Object.prototype.hasOwnProperty,$=Object.prototype.propertyIsEnumerable;var E=(p,a,n)=>a in p?S(p,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):p[a]=n,h=(p,a)=>{for(var n in a||(a={}))I.call(a,n)&&E(p,n,a[n]);if(x)for(var n of x(a))$.call(a,n)&&E(p,n,a[n]);return p},A=(p,a)=>T(p,q(a));import{a as j,aB as H,j as C,a3 as J,ag as P,m as X,B as Y,a2 as r,o as Z,R as G,S as t,Z as e,u as o,e as m,J as K,T as L,U as Q,Y as D,X as w,l as W,ap as ee}from"./vue.1652784183534.js";import{e as te,t as le,a as oe}from"./edit.16527841835342.js";import{O as ue}from"./OrgModal.1652784183534.js";import{h as ae}from"./index.1652784183534.js";import"./DeptTree.1652784183534.js";const se=m("div",{style:{"line-height":"32px"}},"\u5C97\u4F4D\u4FE1\u606F",-1),ne=w("\u4FDD \u5B58"),de=w("\u5173 \u95ED"),re={style:{"margin-top":"8px","margin-bottom":"8px"}},pe={class:"zinput"},ie={class:"zinput"},me={class:"zinput"},_e={class:"zinput"},fe={class:"zinput",style:{height:"auto"}},ce={class:"zinput",style:{height:"auto"}},Fe={class:"zinput"},ve={class:"zinput"},ge={name:"sysOrgPost"},Ae=j(A(h({},ge),{setup(p){const a=H(),{proxy:n}=W(),b=C("tab1"),F=J({url:"/sys/org/post",params:{path:"",query:""},form:{avtag:!0}}),{form:l}=P(F);X(async()=>{await te(F,a),l.value.dept&&(l.value.deptna=l.value.dept.name)});const v=C(),M=()=>{v.value.openModal({opener:"dept",orgType:3,selectMode:1})},z=()=>{v.value.openModal({opener:"users",orgType:8,selectMode:2,orgs:ee(l.value.users)})},B=d=>{d.opener=="dept"?d.orgs&&d.orgs.length>0&&(l.value.dept={id:d.orgs[0].id,name:d.orgs[0].name},l.value.deptna=d.orgs[0].name,l.value.deptid=d.orgs[0].id):d.opener=="users"&&(l.value.users=d.orgs)},g=Y(()=>{let d="";if(l.value.users&&l.value.users.length>0)for(const u of l.value.users)d+=u.name+"\uFF1B";return d});return(d,u)=>{const i=r("el-col"),y=r("el-button"),f=r("el-row"),c=r("el-input"),_=r("el-form-item"),U=r("el-input-number"),k=r("el-switch"),V=r("el-tab-pane"),N=r("el-tabs"),R=r("el-form"),O=r("el-card");return Z(),G(O,{class:"box-card","body-style":{padding:"2px 8px"},shadow:"never"},{header:t(()=>[e(f,null,{default:t(()=>[e(i,{span:10},{default:t(()=>[se]),_:1}),e(i,{span:14,style:{"text-align":"right"}},{default:t(()=>[e(y,{type:"success",onClick:u[0]||(u[0]=s=>o(le)(o(F),o(n),o(a))),plain:""},{default:t(()=>[ne]),_:1}),e(y,{type:"info",onClick:u[1]||(u[1]=s=>o(oe)(o(n),o(a))),plain:""},{default:t(()=>[de]),_:1})]),_:1})]),_:1})]),default:t(()=>[m("div",re,[e(R,{class:"zform",model:o(l),"label-width":"140px"},{default:t(()=>[e(N,{type:"card",modelValue:b.value,"onUpdate:modelValue":u[8]||(u[8]=s=>b.value=s)},{default:t(()=>[e(V,{label:"\u57FA\u672C\u4FE1\u606F",name:"tab1"},{default:t(()=>[e(f,{style:{"border-top":"1px solid #d2d2d2"}},{default:t(()=>[e(i,{span:24},{default:t(()=>[e(_,{label:"\u5C97\u4F4D\u540D\u79F0\uFF1A",prop:"name",rules:[{required:!0,message:"\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A"}]},{default:t(()=>[m("div",pe,[e(c,{modelValue:o(l).name,"onUpdate:modelValue":u[2]||(u[2]=s=>o(l).name=s)},null,8,["modelValue"])])]),_:1})]),_:1})]),_:1}),e(f,null,{default:t(()=>[e(i,{span:12},{default:t(()=>[e(_,{label:"\u6240\u5C5E\u90E8\u95E8\uFF1A",prop:"deptna",rules:[{required:!0,message:"\u6240\u5C5E\u90E8\u95E8\u4E0D\u80FD\u4E3A\u7A7A"}]},{default:t(()=>[m("div",ie,[e(c,{modelValue:o(l).deptna,"onUpdate:modelValue":u[3]||(u[3]=s=>o(l).deptna=s),onClick:M,readonly:"","suffix-icon":o(ae)},null,8,["modelValue","suffix-icon"])])]),_:1})]),_:1}),e(i,{span:6},{default:t(()=>[e(_,{label:"\u6392\u5E8F\u53F7\uFF1A"},{default:t(()=>[m("div",me,[e(U,{modelValue:o(l).ornum,"onUpdate:modelValue":u[4]||(u[4]=s=>o(l).ornum=s),"controls-position":"right",style:{width:"100%"}},null,8,["modelValue"])])]),_:1})]),_:1}),e(i,{span:6},{default:t(()=>[e(_,{label:"\u662F\u5426\u53EF\u7528\uFF1A"},{default:t(()=>[m("div",_e,[e(k,{modelValue:o(l).avtag,"onUpdate:modelValue":u[5]||(u[5]=s=>o(l).avtag=s)},null,8,["modelValue"])])]),_:1})]),_:1})]),_:1}),e(f,null,{default:t(()=>[e(i,{span:24},{default:t(()=>[e(_,{label:"\u5458\u5DE5\u6210\u5458\uFF1A"},{default:t(()=>[m("div",fe,[e(c,{type:"textarea",rows:4,modelValue:o(g),"onUpdate:modelValue":u[6]||(u[6]=s=>K(g)?g.value=s:null),readonly:"",onClick:z},null,8,["modelValue"])])]),_:1})]),_:1})]),_:1})]),_:1}),e(V,{label:"\u5176\u4ED6\u4FE1\u606F",name:"tab3"},{default:t(()=>[e(f,{style:{"border-top":"1px solid #d2d2d2"}},{default:t(()=>[e(i,{span:24},{default:t(()=>[e(_,{label:"\u5907\u6CE8\uFF1A"},{default:t(()=>[m("div",ce,[e(c,{style:{"font-family":"'Courier New', Helvetica, Arial, sans-serif","font-size":"16px"},type:"textarea",rows:4,modelValue:o(l).notes,"onUpdate:modelValue":u[7]||(u[7]=s=>o(l).notes=s)},null,8,["modelValue"])])]),_:1})]),_:1})]),_:1}),L(e(f,null,{default:t(()=>[e(i,{span:12},{default:t(()=>[e(_,{label:"\u521B\u5EFA\u65F6\u95F4\uFF1A"},{default:t(()=>[m("div",Fe,D(o(l).crtim),1)]),_:1})]),_:1}),e(i,{span:12},{default:t(()=>[e(_,{label:"\u66F4\u65B0\u65F6\u95F4\uFF1A"},{default:t(()=>[m("div",ve,D(o(l).uptim),1)]),_:1})]),_:1})]),_:1},512),[[Q,o(l).crtim]])]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["model"])]),e(ue,{ref_key:"orgModal",ref:v,onClose:B},null,512)]),_:1})}}}));export{Ae as default};
